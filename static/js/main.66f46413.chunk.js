(this["webpackJsonpCAGO-Frontend"]=this["webpackJsonpCAGO-Frontend"]||[]).push([[0],{61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var i=n(1),c=n(0),a=n(14),s=n.n(a),o=n(3),r=n(11),l=n(4),d=n.p+"static/media/logo_main.8a82be9a.svg",j=Object(o.b)({key:"plasticState",default:0}),b=Object(o.b)({key:"isLoggedInState",default:!1}),h=Object(o.b)({key:"userState",default:""}),u=Object(o.c)({key:"plasticPercentState",get:function(e){return((0,e.get)(j)/30*100).toFixed(0)}}),O=function(){var e=Object(o.e)(u),t=Object(o.e)(b),n=Object(o.e)(h),c=t?"".concat(n,", Current plastic: ").concat(e,"%"):"You need to log in to see your plastic usage";return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("header",{id:"menu-header",children:[Object(i.jsx)(r.b,{to:"/CAGO-Frontend",children:Object(i.jsx)("img",{src:d,style:{width:"50px"},alt:"logo main"})}),Object(i.jsx)("span",{id:"menu-span",children:c})]}),Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{children:Object(i.jsx)(r.b,{to:"/login",children:"Login"})}),Object(i.jsx)("li",{children:Object(i.jsx)(r.b,{to:t?"/trash":"/login",children:"Trash"})}),Object(i.jsx)("li",{children:Object(i.jsx)(r.b,{to:t?"/chart":"/login",children:"Chart"})})]}),Object(i.jsx)("hr",{})]})},g=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"CAGO Playground"}),Object(i.jsx)("p",{children:"for Junction 2020 Connected"}),Object(i.jsxs)("pre",{children:[Object(i.jsx)("a",{href:"https://www.linkedin.com/in/sang-uk-lee/",children:"Sean (Sang-Uk) Lee"})," | sean.sanguk.lee@gmail.com\n",Object(i.jsx)("a",{href:"https://www.linkedin.com/in/jongwon-park-41a170177",children:"Jongwon Park"})," | whddnjs761@gmail.com\n",Object(i.jsx)("a",{href:"https://www.linkedin.com/in/timkim0713/",children:"Daekyung Kim"})," | daekyung.kim@stonybrook.edu\n",Object(i.jsx)("a",{href:"https://linkedin.com/in/hanbin-baik",children:"Hanbin Baik"})," | hanbini96@gmail.com"]}),Object(i.jsx)("p",{children:"Nov. 6th ~ Nov. 8th, 2020"})]})},x=n(2),m=n(17),p=n.n(m),f=function(e){var t=e.history,n=Object(o.d)(b),c=Object(x.a)(n,2),a=c[0],s=c[1],r=Object(o.f)(j),l=Object(o.f)(h);return a?Object(i.jsx)("span",{children:"You are now logged in :)"}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("a",{href:"http://localhost:3001/auth/login",children:Object(i.jsx)("button",{type:"button",children:"Login"})}),Object(i.jsx)("button",{type:"button",onClick:function(){p.a.get("http://localhost:3001/db/current-user",{withCredentials:!0}).then((function(e){l(e.data.name),s(!0),r(e.data.plasticCount),t.push("/CAGO-Frontend")}))},children:"Authenticate"})]})},v=n(8),w=n.p+"static/media/bg1.203a0d0f.svg",y=n.p+"static/media/bg2.a9ae58bf.svg",k=n.p+"static/media/bg3.2be3f16e.svg",C=15,S=function(){var e=Object(c.useRef)(null),t=Object(c.useRef)(null),n=Object(c.useState)(),a=Object(x.a)(n,2),s=a[0],r=a[1],l=Object(c.useState)(),d=Object(x.a)(l,2),b=d[0],h=d[1],O=Object(c.useState)(!1),g=Object(x.a)(O,2),m=g[0],f=g[1],S=Object(o.d)(j),N=Object(x.a)(S,2),A=N[0],E=N[1],B=Object(o.e)(u),F=Object(c.useCallback)((function(){r(e.current.getBoundingClientRect())})),L=Object(c.useCallback)((function(){b&&(M(1),E(A+1),p()("http://localhost:3001/db/increment-count",{method:"post",withCredentials:!0}).then((function(e){console.log(e.data)})))})),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(s){for(var t=s.width,n=Math.floor(Math.random()*-t)+t,i=[],c=0;c<e;c+=1)i.push(v.Bodies.circle(n,-40,40,{restitution:.5}));setTimeout((function(){v.World.add(b.engine.world,i)}),500)}},P=function(e,t,n,i){var c=0,a=0,s=0,o=0,r=0,l=0,d=0,j=0,b=0,h=0;switch(t){case"floor":c=n/2,a=i+7.5,s=0,o=i,r=n,l=i,d=n,j=i+C,b=0,h=i+C;break;case"left":c=-7.5,a=500,s=0,o=-500,r=C,l=-500,d=C,j=2*i,b=0,h=2*i;break;case"right":c=n+7.5,a=500,s=n-C,o=-500,r=n,l=-500,d=n,j=2*i,b=n-C,h=2*i}v.Body.setPosition(e,{x:c,y:a}),v.Body.setVertices(e,[{x:s,y:o},{x:r,y:l},{x:d,y:j},{x:b,y:h}])};return Object(c.useEffect)((function(){var n=s||{},i=n.width,c=n.height,a=v.Engine.create({}),o=v.Render.create({element:e.current,engine:a,canvas:t.current,options:{width:i,height:c,background:"transparent",wireframes:!1}}),l=[1,2,3].map((function(){return v.Bodies.rectangle(0,0,0,C,{isStatic:!0,render:{fillStyle:"blue"}})}));return v.World.add(a.world,l),v.Engine.run(a),v.Render.run(o),r(e.current.getBoundingClientRect()),h(o),window.addEventListener("resize",F),function(){window.removeEventListener("resize",F)}}),[]),Object(c.useEffect)((function(){if(s){var e=s.width,t=s.height;b.bounds.max.x=e,b.bounds.max.y=t,b.options.width=e,b.options.height=t,b.canvas.width=e,b.canvas.height=t;var n=b.engine.world.bodies;P(n[0],"floor",e,t),P(n[1],"left",e,t),P(n[2],"right",e,t),m||(M(A),f(!m))}}),[b,s]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("button",{type:"button",style:{cursor:"pointer",display:"block",width:"300px",textAlign:"center",marginBottom:"16px"},onClick:function(){return L()},children:"Generate"}),Object(i.jsx)("div",{style:{position:"relative",width:"300px",height:"608px"},children:Object(i.jsxs)("div",{ref:e,style:{width:"100%",height:"100%",textAlign:"center"},children:[Object(i.jsx)("p",{style:{position:"absolute",color:"white",fontWeight:"bold",fontSize:"38px",top:"50%",left:"50%",transform:"translate(-50%, -25%)"},children:"".concat(B,"%")}),Object(i.jsx)("img",{src:B>=80?k:B>=60?y:w,style:{position:"absolute",zIndex:-1},alt:"bg"}),Object(i.jsx)("canvas",{ref:t})]})})]})},N=n.p+"static/media/whale.20dfde24.gif",A=n.p+"static/media/turtle.949c3292.gif",E=n.p+"static/media/seagull.8c3d29ab.gif",B=(n(61),function(){var e=Object(c.useState)(!1),t=Object(x.a)(e,2),n=t[0],a=t[1],s=Object(o.e)(u),r=function(e){var t=e.target;t.style.animationPlayState="paused",t.style.webkitAnimationPlayState="paused"},l=function(e){var t=document.getElementsByClassName("tooltiptext")[0];a(!n);var i=n?"visible":"hidden";t.style.visibility=i},d=function(e){var t=e.target;t.style.animationPlayState="running",t.style.webkitAnimationPlayState="running"};return Object(i.jsxs)("div",{className:"chart",onClick:l,children:[Object(i.jsx)("div",{className:"tooltip whale-anim",onMouseEnter:r,onClick:l,onMouseLeave:d,children:Object(i.jsx)("img",{src:N,alt:"whale",className:"object whale"})}),Object(i.jsx)("div",{className:"tooltip turtle-anim",onMouseEnter:r,onMouseLeave:d,children:Object(i.jsx)("img",{src:A,alt:"turtle",className:"object turtle"})}),Object(i.jsx)("div",{className:"tooltip seagull-anim",onMouseEnter:r,onMouseLeave:d,children:Object(i.jsx)("img",{src:E,alt:"seagull",className:"object seagull"})}),Object(i.jsx)("div",{className:"tooltiptext",children:Object(i.jsx)("pre",{children:"Your monthly usage: ".concat(s,"%\n\nYou have saved\nN seagulls\nM turtles\n or O whales")})})]})}),F=function(){var e=Object(o.e)(b);return Object(i.jsxs)(r.a,{children:[Object(i.jsx)(O,{}),!e&&Object(i.jsx)(l.a,{path:"*",to:"/login"}),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(l.b,{exact:!0,path:"/CAGO-Frontend",component:g}),Object(i.jsx)(l.b,{path:"/login",component:f}),Object(i.jsx)(l.b,{path:"/trash",component:S}),Object(i.jsx)(l.b,{path:"/chart",component:B})]})]})};s.a.render(Object(i.jsx)(o.a,{children:Object(i.jsx)(F,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.66f46413.chunk.js.map